logstash:
  image: cmssw/logstash

zookeeper:
  image: cmssw/zookeeper
  net: "bridge"
  expose:
    - "2181"

master:
  image: cmssw/mesos-master
  net: "bridge"
  ports:
    - "5050:5050"
  links:
    - zookeeper:zk

slave:
  image: cmssw/mesos-slave
  net: "bridge"
  ports:
    - "5051:5051"
  links:
    - zookeeper:zk
    - master:master
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
    - /usr/local/bin/docker:/usr/bin/docker
    - /sys:/sys
  privileged: true

marathon:
  image: cmssw/marathon
  net: "bridge"
  ports:
    - "8080:8080"
  links:
    - zookeeper:zk
    - master:master 
    - slave:slave
